# 基于机器学习的分布式系统故障诊断系统 - 需求文档

## 一、项目背景

在大数据时代，分布式系统已经成为信息存储和处理的主流方式。由于其庞大和复杂的特性，**分布式系统**的故障发生率相对较高，运维难度和复杂度也随之增加。如何对分布式系统进行高效、准确的运维，成为保障信息系统高效、可靠运行的关键。

## 二、项目目标

- 利用**机器学习**、**深度学习**等技术对**分布式系统**的故障数据进行分析。
- 设计故障诊断模型，准确地分析并识别故障类别。
- 实现分布式系统故障运维的智能化，快速恢复故障，降低运维难度，减少人力资源消耗。

## 三、业务场景

当**分布式系统**中的某个节点发生故障时，故障会沿着系统的拓扑结构传播，导致相关的KPI指标和日志异常。本项目将提供**分布式数据库**的故障**特征数据**和**标签数据**，其中特征数据是系统发生故障时的KPI指标数据，标签数据为故障类别数据。

## 四、用户需求

### 1 故障诊断

- 用户希望系统能够实时监控分布式系统的状态，并在故障发生时立即发出警报。
- 用户需要系统提供故障的详细信息，如故障发生的时间、数据位置、影响范围等。
- 用户希望能够查看故障的历史记录，以便进行故障分析和预防。

### 2 模型训练与测试

- 用户希望系统提供简单易用的界面，用于上传训练数据和测试数据。
- 用户需要系统提供模型的训练进度和结果。
- 用户希望能够保存和管理多个模型版本，以便根据需要选择合适的模型进行故障诊断。

### 3 数据管理

- 用户需要系统提供训练和测试数据的导入、导出、备份和恢复功能。
- 用户希望系统能够自动清理过时或无用的数据，以节省存储空间。

### 4 系统设置与管理

- 用户希望能够自定义系统的设置，如警报阈值、通知方式等。
- 用户需要系统提供用户管理功能，如添加、删除、修改用户信息等。
- 用户希望系统提供操作日志，以便追踪和审计系统的操作记录。

## 五、系统需求

### 1 基于机器学习的故障诊断功能（SystemHealer-SR1）

1. **初始假设：**
   - 分布式系统中存在多个节点。
   - 每个节点有一系列的KPI指标，如feature0、feature1 ...feature106。
   - 故障会导致某些KPI指标异常。
2. **正常状态：**
   - 分布式系统的所有节点正常运行。
   - 所有KPI指标在正常范围内。
3. **有哪些会出错：**
   - 节点可能会发生故障。
   - 故障会导致相关的KPI指标异常。
   - 故障可能会沿着分布式系统的拓扑结构传播。
4. **其他活动：**
   - 用户可以上传训练数据并在线训练模型。
   - 用户可以上传单条或多条测试语句进行测试。
   - 系统支持可视化测试结果和下载测试结果。
5. **完成的系统状态：**
   - 故障被准确地诊断并分类。
   - 分布式系统恢复到正常状态。

### 2 WEB平台功能（SystemHealer-SR2）

1. **初始假设：**
   - 用户需要一个界面来上传训练数据和测试数据。
   - 用户希望在线进行模型的训练和测试。
2. **正常状态：**
   - WEB平台正常运行。
   - 用户可以顺利上传、训练和测试。
3. **有哪些会出错：**
   - 网络连接问题。
   - 用户上传的数据格式不正确。
   - 模型训练失败。
4. **其他活动：**
   - WEB平台提供模型下载功能。
   - WEB平台支持测试结果的可视化和下载。
5. **完成的系统状态：**
   - 用户成功完成模型的训练和测试。
   - 用户可以下载训练的模型和测试结果。

### 3 基于机器学习的故障诊断功能（SystemHealer-SR3）

1. **初始假设：**
   - 分布式系统中存在多个节点。
   - 每个节点有一系列的KPI指标，如feature0、feature1 ...feature106。
   - 故障会导致某些KPI指标异常。
2. **正常状态：**
   - 分布式系统的所有节点正常运行。
   - 所有KPI指标在正常范围内。
3. **有哪些会出错：**
   - 节点可能会发生故障。
   - 故障会导致相关的KPI指标异常。
   - 故障可能会沿着分布式系统的拓扑结构传播。
4. **其他活动：**
   - 用户可以上传训练数据并在线训练模型。
   - 用户可以上传单条或多条测试语句进行测试。
   - 系统支持可视化测试结果和下载测试结果。
5. **完成的系统状态：**
   - 故障被准确地诊断并分类。
   - 分布式系统恢复到正常状态。

### 4 WEB平台功能（SystemHealer-SR4）

1. **初始假设：**
   - 用户需要一个界面来上传训练数据和测试数据。
   - 用户希望在线进行模型的训练和测试。
2. **正常状态：**
   - WEB平台正常运行。
   - 用户可以顺利上传、训练和测试。
3. **有哪些会出错：**
   - 网络连接问题。
   - 用户上传的数据格式不正确。
   - 模型训练失败。
4. **其他活动：**
   - WEB平台提供模型下载功能。
   - WEB平台支持测试结果的可视化和下载。
5. **完成的系统状态：**
   - 用户成功完成模型的训练和测试。
   - 用户可以下载训练的模型和测试结果。

## 六、技术选型

- 机器学习部分：Python + PyTorch
- WEB平台：Django + Bootstrap + JavaScript
